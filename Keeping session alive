val output = new StringBuilder
val error = new StringBuilder

val logger = ProcessLogger(
  (o: String) => output.append(o + "\n"),
  (e: String) => error.append(e + "\n")
)

val exitCode = command.!(logger)

println(s"Exit code: $exitCode")
if (output.nonEmpty) {
  println(s"Output:\n$output")
} else {
  println("No output was captured from the standard output stream.")
}

if (error.nonEmpty) {
  println(s"Error:\n$error")
} else {
  println("No output was captured from the standard error stream.")
}
