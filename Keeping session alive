#!/bin/bash

# Method 1: Extract to variables
read dataset appname env_name < <(python3 -c "
import yaml
with open('config.yaml') as f:
    c = yaml.safe_load(f)
    print(c['prod']['data']['dataset_name'])
    print(c['prod']['data']['appname'])
    print(c['prod']['environment_name'])
" | tr '\n' ' ')

echo "Dataset: $dataset"
echo "App: $appname"

# Method 2: Create helper function
get_yaml() {
    python3 -c "import yaml; print(yaml.safe_load(open('$1'))$2)"
}

# Usage
value=$(get_yaml "config.yaml" "['prod']['data']['dataset_name']")
